# Guide de SÃ©lection Rapide des Comptes

## ğŸ“ Vue d'ensemble

La page de connexion affiche maintenant la liste des comptes utilisateurs dÃ©jÃ  inscrits, permettant une connexion rapide en un clic.

---

## âœ¨ FonctionnalitÃ©s

### 1. **Liste des comptes enregistrÃ©s** (Maximum 5)

Sur la page de login, vous verrez automatiquement :
- Les 5 derniers comptes utilisÃ©s
- Nom complet et email de chaque utilisateur
- Avatar avec initiales colorÃ©es
- Interface Ã©lÃ©gante et interactive

### 2. **Connexion rapide**

Pour se connecter rapidement :
1. **Cliquez sur un compte** dans la liste
2. Le compte est sÃ©lectionnÃ© automatiquement
3. **Entrez uniquement le mot de passe**
4. Cliquez sur "Se connecter"

### 3. **Suppression sÃ©curisÃ©e**

Pour supprimer un compte de la liste :
1. **Survolez le compte** avec la souris
2. Un **bouton de suppression** (poubelle) apparaÃ®t Ã  droite
3. **Cliquez sur le bouton**
4. Un modal de confirmation s'ouvre
5. **Entrez le mot de passe** du compte Ã  supprimer
6. Cliquez sur "Supprimer"

âš ï¸ **SÃ©curitÃ©** : La suppression nÃ©cessite obligatoirement le mot de passe du compte pour Ãªtre validÃ©e.

---

## ğŸ¯ Interface Utilisateur

### Page de connexion initiale

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Logo CFPT                          â”‚
â”‚  Nom de l'application               â”‚
â”‚                                     â”‚
â”‚  ğŸ“‹ Comptes enregistrÃ©s             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ‘¤ Jean Dupont               ğŸ—‘â”‚ â”‚
â”‚  â”‚    jean.dupont@email.com      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ‘¤ Marie Martin              ğŸ—‘â”‚ â”‚
â”‚  â”‚    marie.martin@email.com     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚  Cliquez sur un compte              â”‚
â”‚                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                     â”‚
â”‚  ğŸ” Connexion                       â”‚
â”‚  Email: [____________]              â”‚
â”‚  Mot de passe: [____________]       â”‚
â”‚  [Se connecter]                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### AprÃ¨s sÃ©lection d'un compte

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ” Connexion                       â”‚
â”‚  Bienvenue Jean                     â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ‘¤ Jean Dupont              âœ• â”‚ â”‚
â”‚  â”‚    jean.dupont@email.com      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚  Mot de passe: [____________]       â”‚
â”‚  [Se connecter]                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Modal de suppression

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ğŸ—‘ï¸ Supprimer le compte       â”‚
â”‚                                     â”‚
â”‚  Confirmez la suppression de :      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Jean Dupont                   â”‚ â”‚
â”‚  â”‚ jean.dupont@email.com         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚  Mot de passe de confirmation:      â”‚
â”‚  [____________]                     â”‚
â”‚                                     â”‚
â”‚  Entrez le mot de passe de ce       â”‚
â”‚  compte pour confirmer              â”‚
â”‚                                     â”‚
â”‚  [Annuler]  [Supprimer]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”’ SÃ©curitÃ©

### Protection par mot de passe

La suppression d'un compte de la liste nÃ©cessite **obligatoirement** :
- âœ… Le mot de passe du compte Ã  supprimer
- âœ… Validation en temps rÃ©el via l'authentification
- âœ… Aucune suppression possible sans mot de passe correct

### Ce qui est supprimÃ©

Quand vous supprimez un compte de la liste :
- âŒ Le compte est retirÃ© de la liste de sÃ©lection rapide
- âœ… Les donnÃ©es du compte restent intactes dans l'application
- âœ… L'utilisateur peut toujours se connecter en saisissant son email

**Important** : Cette fonctionnalitÃ© supprime uniquement l'entrÃ©e de la liste de sÃ©lection rapide, pas le compte utilisateur lui-mÃªme.

---

## ğŸ’¾ Stockage

### LocalStorage

Les comptes sont sauvegardÃ©s localement :
- **ClÃ©** : `cfpt_saved_accounts`
- **Format** : JSON
- **DonnÃ©es stockÃ©es** :
  - Email
  - PrÃ©nom et nom
  - Date de derniÃ¨re connexion

### Limites

- **Maximum** : 5 comptes affichÃ©s
- Les comptes les plus rÃ©cents sont prioritaires
- Stockage local uniquement (par ordinateur)

---

## ğŸš€ Flux de fonctionnement

### Ajout automatique d'un compte

```
1. Utilisateur se connecte avec email + mot de passe
   â†“
2. Connexion rÃ©ussie
   â†“
3. Le compte est automatiquement ajoutÃ© Ã  la liste
   â†“
4. Mis Ã  jour avec la date de derniÃ¨re connexion
   â†“
5. AffichÃ© sur la page de login lors de la prochaine visite
```

### SÃ©lection d'un compte

```
1. Utilisateur clique sur un compte dans la liste
   â†“
2. Le compte est sÃ©lectionnÃ©
   â†“
3. L'email est prÃ©-rempli automatiquement
   â†“
4. Seul le mot de passe est requis
   â†“
5. Connexion immÃ©diate
```

### Suppression d'un compte

```
1. Utilisateur survole un compte
   â†“
2. Bouton de suppression apparaÃ®t
   â†“
3. Clic sur le bouton
   â†“
4. Modal de confirmation s'ouvre
   â†“
5. Saisie du mot de passe
   â†“
6. VÃ©rification du mot de passe
   â†“
7a. Mot de passe correct â†’ Suppression
7b. Mot de passe incorrect â†’ Message d'erreur
```

---

## ğŸ¨ Interactions UX

### Ã‰tats visuels

1. **Normal** : Carte grise avec bordure lÃ©gÃ¨re
2. **Hover** : DÃ©gradÃ© bleu, bordure colorÃ©e, ombre portÃ©e
3. **SÃ©lectionnÃ©** : Badge bleu avec informations
4. **Bouton supprimer** : ApparaÃ®t uniquement au survol

### Animations

- Transition fluide au survol (300ms)
- Apparition progressive du bouton supprimer
- Modal avec effet de flou d'arriÃ¨re-plan
- Feedback visuel sur toutes les interactions

---

## ğŸ’¡ Cas d'usage

### ScÃ©nario 1 : Premier utilisateur
1. Pas de comptes enregistrÃ©s
2. Connexion classique (email + mot de passe)
3. Compte automatiquement ajoutÃ© Ã  la liste

### ScÃ©nario 2 : Utilisateur rÃ©gulier
1. Liste de comptes affichÃ©e
2. Clic sur son compte
3. Saisie rapide du mot de passe
4. Connexion immÃ©diate

### ScÃ©nario 3 : Multi-utilisateurs (mÃªme ordinateur)
1. Jusqu'Ã  5 comptes affichÃ©s
2. Chaque utilisateur clique sur le sien
3. Connexion rapide et sÃ©curisÃ©e

### ScÃ©nario 4 : Suppression d'un ancien compte
1. Survol du compte Ã  supprimer
2. Clic sur l'icÃ´ne poubelle
3. Confirmation avec mot de passe
4. Compte retirÃ© de la liste

---

## â“ FAQ

### Combien de comptes peuvent Ãªtre affichÃ©s ?
Maximum 5 comptes. Les plus rÃ©cents sont affichÃ©s en prioritÃ©.

### Que se passe-t-il avec le 6Ã¨me compte ?
Le compte le plus ancien est automatiquement retirÃ© de la liste.

### La suppression efface-t-elle vraiment le compte ?
Non, elle retire uniquement le compte de la liste de sÃ©lection rapide. L'utilisateur peut toujours se connecter normalement.

### Peut-on supprimer un compte sans mot de passe ?
Non, le mot de passe est obligatoire pour des raisons de sÃ©curitÃ©.

### Les comptes sont-ils partagÃ©s entre ordinateurs ?
Non, chaque ordinateur a sa propre liste locale.

### Que se passe-t-il en cas de changement de mot de passe ?
La liste reste valide. Utilisez simplement le nouveau mot de passe pour vous connecter.

---

## ğŸ”§ DÃ©tails Techniques

### Fichiers modifiÃ©s

- **`src/pages/auth/Login.tsx`** : Interface complÃ¨te de sÃ©lection et suppression

### Interface SavedAccount

```typescript
interface SavedAccount {
  email: string;
  firstName: string;
  lastName: string;
  lastLogin?: string;
}
```

### Fonctions principales

1. **`loadSavedAccounts()`** : Charge les comptes depuis localStorage
2. **`handleSelectAccount()`** : SÃ©lectionne un compte
3. **`handleDeselectAccount()`** : DÃ©sÃ©lectionne le compte actuel
4. **`saveAccountToList()`** : Ajoute/met Ã  jour un compte dans la liste
5. **`handleDeleteAccount()`** : Ouvre le modal de suppression
6. **`handleConfirmDelete()`** : Supprime aprÃ¨s vÃ©rification du mot de passe

### Gestion du localStorage

```javascript
// Lecture
const saved = localStorage.getItem('cfpt_saved_accounts');
const accounts = JSON.parse(saved);

// Ã‰criture
localStorage.setItem('cfpt_saved_accounts', JSON.stringify(accounts));
```

---

## ğŸ“ Support

Pour toute question :
- Email : support@cfpt-ivato.mg
- Documentation technique : Consultez le code source

---

*DerniÃ¨re mise Ã  jour : Novembre 2024*  
*Version 2.3.0*
